<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>WQin</title>
  
  <subtitle>劳者自歌，非求倾听</subtitle>
  <link href="/atom.xml" rel="self"/>
  
  <link href="http://yoursite.com/"/>
  <updated>2019-08-19T14:27:00.891Z</updated>
  <id>http://yoursite.com/</id>
  
  <author>
    <name>WQin栈</name>
    
  </author>
  
  <generator uri="http://hexo.io/">Hexo</generator>
  
  <entry>
    <title>Spring_AOP</title>
    <link href="http://yoursite.com/2019/08/19/Spring_AOP/"/>
    <id>http://yoursite.com/2019/08/19/Spring_AOP/</id>
    <published>2019-08-19T14:05:02.000Z</published>
    <updated>2019-08-19T14:27:00.891Z</updated>
    
    <content type="html"><![CDATA[<p>AOP是Spring框架面向切面的编程思想，AOP采用一种称为“横切”的技术，将涉及多业务流程的通用功能抽取并单独封装，形成独立的切面，在合适的时机将这些切面横向切入到业务流程指定的位置中。</p><a id="more"></a><h3 id="AOP-相关术语"><a href="#AOP-相关术语" class="headerlink" title="AOP 相关术语"></a>AOP 相关术语</h3><p><strong>Joinpoint(连接点):</strong></p><blockquote><p>所谓连接点是指那些被拦截到的点。在 spring 中,这些点指的是方法,因为 spring 只支持方法类型的连接点。</p></blockquote><p><strong>Pointcut(切入点):</strong></p><blockquote><p>所谓切入点是指我们要对哪些 Joinpoint 进行拦截的定义。</p><p>指的是那些被增强的方法</p></blockquote><p><font color="#0099ff" size="3">所有的切入点都是连接点,但并不是所有的连接点都是切入点,简单来说就是被增强的方法是切入点,没有被增强的方法则是连接点</font></p><p><strong>Advice(通知/增强):</strong></p><blockquote><p>所谓通知是指拦截到 Joinpoint 之后所要做的事情就是通知。</p><p>通知的类型：前置通知,后置通知,异常通知,最终通知,环绕通知。</p></blockquote><p><strong>Introduction(引介):</strong></p><blockquote><p>引介是一种特殊的通知在不修改类代码的前提下, Introduction 可以在运行期为类动态地添加一些方法或 Field。</p></blockquote><p><strong>Target(目标对象):</strong></p><blockquote><p>代理的目标对象。</p></blockquote><p><strong>Weaving(织入):</strong></p><blockquote><p>是指把增强应用到目标对象来创建新的代理对象的过程。</p><p>spring 采用动态代理织入，而 AspectJ 采用编译期织入和类装载期织入。</p></blockquote><p><strong>Proxy（代理）:</strong></p><blockquote><p>一个类被 AOP 织入增强后，就产生一个结果代理类。</p></blockquote><p><strong>Aspect(切面):</strong></p><blockquote><p>是切入点和通知（引介）的结合。</p></blockquote><h2 id="基于XML的AOP配置"><a href="#基于XML的AOP配置" class="headerlink" title="基于XML的AOP配置"></a>基于XML的AOP配置</h2><p>引入下面的Jar包：</p><ul><li>spring-context</li><li>aspectjweaver</li></ul><p>*** 1.  编写模拟Service层的接口及实现类 **</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">interface</span> <span class="title">IAcoount</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">saveAccount</span><span class="params">()</span></span>;  <span class="comment">// 模拟保存账户</span></span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">updateAcount</span><span class="params">(<span class="keyword">int</span> i)</span></span>;  <span class="comment">// 模拟更新账户</span></span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">deleteAccount</span><span class="params">(<span class="keyword">int</span> i)</span></span>;  <span class="comment">// 模拟删除账户</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>*** 1.2 实现Service层的接口的类 **</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">AccountImpl</span> <span class="keyword">implements</span> <span class="title">IAcoount</span></span>&#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">saveAccount</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        System.out.println(<span class="string">"执行了保存方法..."</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    ... 实现所有未实现的方法</span><br></pre></td></tr></table></figure><p>*** 2. 编写通知类 **</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Logger</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">berorePrintLog</span><span class="params">()</span></span>&#123;</span><br><span class="line">        System.out.println(<span class="string">"执行了前置通知方法..."</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">afterRetueningPrintLog</span><span class="params">()</span></span>&#123;</span><br><span class="line">        System.out.println(<span class="string">"执行了后置通知方法..."</span>);</span><br><span class="line">    &#125;</span><br><span class="line">     <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">afterThrowingPrintLog</span><span class="params">()</span></span>&#123;</span><br><span class="line">        System.out.println(<span class="string">"执行了异常通知方法..."</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">afterPrintLog</span><span class="params">()</span></span>&#123;</span><br><span class="line">        System.out.println(<span class="string">"执行了最终通知方法..."</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line"> <span class="comment">/**</span></span><br><span class="line"><span class="comment">  这个是演示环绕通知的方法。</span></span><br><span class="line"><span class="comment">  Spring框架为我们提供了一个接口：ProceedingJoinPoint。该接口有一个方法proceed()，此方法  就相当于明确调用切入点方法。</span></span><br><span class="line"><span class="comment">  该接口可以作为环绕通知的方法参数，在程序执行时，spring框架会为我们提供该接口的实现类供我们使用。</span></span><br><span class="line"><span class="comment">  spring中的环绕通知：</span></span><br><span class="line"><span class="comment">  它是spring框架为我们提供的一种可以在代码中手动控制增强方法何时执行的方式。</span></span><br><span class="line"><span class="comment">  */</span></span><br><span class="line">     <span class="function"><span class="keyword">public</span> Object <span class="title">aroundPrintLog</span><span class="params">(ProceedingJoinPoint pjp)</span></span>&#123;</span><br><span class="line">        Object rtValue = <span class="keyword">null</span>;</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line"></span><br><span class="line">            Object[] args = pjp.getArgs();  <span class="comment">// 得到方法执行所需的参数</span></span><br><span class="line"></span><br><span class="line">            System.out.println(<span class="string">"执行了前置通知方法..."</span>);</span><br><span class="line"></span><br><span class="line">            rtValue = pjp.proceed(args);<span class="comment">// 明确调用业务层方法(切入点方法)</span></span><br><span class="line"></span><br><span class="line">            System.out.println(<span class="string">"执行了后置通知方法..."</span>);</span><br><span class="line">            <span class="keyword">return</span> rtValue;</span><br><span class="line">        &#125; <span class="keyword">catch</span> (Throwable t) &#123;</span><br><span class="line">            System.out.println(<span class="string">"执行了异常通知方法..."</span>);</span><br><span class="line">            <span class="keyword">throw</span> <span class="keyword">new</span> RuntimeException(t);</span><br><span class="line">        &#125;<span class="keyword">finally</span> &#123;</span><br><span class="line">            System.out.println(<span class="string">"执行了最终通知方法..."</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>*** 3. XML的配置编写 **</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- 配置spring的Ioc,把需要增强的类的对象配置进来  --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">"accountImpl"</span> <span class="attr">class</span>=<span class="string">"com.itspring.service.impl.AccountImpl"</span>&gt;</span><span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!-- 配置Logger类(通知类) --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">"logger"</span> <span class="attr">class</span>=<span class="string">"com.itspring.utilts.Logger"</span>&gt;</span><span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!-- 配置Aop --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">aop:config</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- 配置切入点表达式 --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">aop:pointcut</span> <span class="attr">id</span>=<span class="string">"pt1"</span> <span class="attr">expression</span>=<span class="string">"execution(* com.itspring.service.impl.*.*(..))"</span> /&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--  配置切面  --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">aop:aspect</span> <span class="attr">id</span>=<span class="string">"logAdvice"</span> <span class="attr">ref</span>=<span class="string">"logger"</span>&gt;</span></span><br><span class="line">        <span class="comment">&lt;!-- 配置前置通知  --&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">aop:before</span> <span class="attr">method</span>=<span class="string">"berorePrintLog"</span> <span class="attr">pointcut-ref</span>=<span class="string">"pt1"</span> /&gt;</span></span><br><span class="line">        <span class="comment">&lt;!--  配置后置通知 --&gt;</span></span><br><span class="line">         <span class="tag">&lt;<span class="name">aop:after-returning</span> <span class="attr">method</span>=<span class="string">"afterRetueningPrintLog"</span> <span class="attr">pointcut-ref</span>=<span class="string">"pt1"</span> /&gt;</span></span><br><span class="line">         <span class="comment">&lt;!-- 配置异常通知  --&gt;</span></span><br><span class="line">         <span class="tag">&lt;<span class="name">aop:after-throwing</span> <span class="attr">method</span>=<span class="string">"afterThrowingPrintLog"</span> <span class="attr">pointcut-ref</span>=<span class="string">"pt1"</span>  /&gt;</span></span><br><span class="line">         <span class="comment">&lt;!-- 配置最终通知  --&gt;</span></span><br><span class="line">         <span class="tag">&lt;<span class="name">aop:after</span> <span class="attr">method</span>=<span class="string">"afterPrintLog"</span> <span class="attr">pointcut-ref</span>=<span class="string">"pt1"</span> /&gt;</span></span><br><span class="line">        </span><br><span class="line">        <span class="comment">&lt;!-- 配置坏绕通知, 配置了环绕通知就可以不用配置上面的四个通知了 --&gt;</span></span><br><span class="line">         <span class="tag">&lt;<span class="name">aop:around</span> <span class="attr">method</span>=<span class="string">"aroundPrintLog"</span> <span class="attr">pointcut-ref</span>=<span class="string">"pt1"</span> /&gt;</span></span><br><span class="line">     <span class="tag">&lt;/<span class="name">aop:aspect</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">aop:config</span>&gt;</span></span><br></pre></td></tr></table></figure><p>*** 4. 编写测试代码 **</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">AccountTest</span> </span>&#123;</span><br><span class="line">    <span class="meta">@Test</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">test</span><span class="params">()</span></span>&#123;</span><br><span class="line">        <span class="comment">//1.获取容器</span></span><br><span class="line">        ApplicationContext ac = <span class="keyword">new</span> ClassPathXmlApplicationContext(<span class="string">"bean.xml"</span>);</span><br><span class="line">        <span class="comment">//2.获取对象</span></span><br><span class="line">        IAcoount accountImpl = ac.getBean(<span class="string">"accountImpl"</span>,IAcoount.class);</span><br><span class="line">    <span class="comment">//3.执行方法</span></span><br><span class="line">        accountImpl.saveAccount();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="基于注解的AOP配置"><a href="#基于注解的AOP配置" class="headerlink" title="基于注解的AOP配置"></a>基于注解的AOP配置</h2><p><font color="#0099ff" size="3">因Spring的注解的异常通知和最终通知存在执行顺序的问题,就直接使用环绕通知的注解</font></p><p>*** 1.编写一个配置类 **</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Configuration</span> <span class="comment">// 指定当前类是一个配置类</span></span><br><span class="line"><span class="meta">@ComponentScan</span>(basePackages = &#123;<span class="string">"com.itspring"</span>&#125;)  <span class="comment">//指定创建容器时要扫描的包。</span></span><br><span class="line"><span class="meta">@EnableAspectJAutoProxy</span>  <span class="comment">//表示开启AOP代理自动配置</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">BeanConfig</span> </span>&#123;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>*** 2. 注解Service层的接口的实现类  **</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Service</span>(<span class="string">"accountService"</span>)</span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">AccountImpl</span> <span class="keyword">implements</span> <span class="title">IAcoount</span></span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">saveAccount</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        System.out.println(<span class="string">"执行了保存方法..."</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    .......</span><br></pre></td></tr></table></figure><p>*** 3. 注解通知类 **</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Component</span>(<span class="string">"logger"</span>)</span><br><span class="line"><span class="meta">@Aspect</span>  <span class="comment">// 表示当前类是一个切面类</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Logger</span> </span>&#123;</span><br><span class="line">    <span class="comment">// 指定切入点表达式</span></span><br><span class="line">    <span class="meta">@Pointcut</span>(<span class="string">"execution(* com.itspring.service.impl.*.*(..))"</span>)  </span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">pt1</span><span class="params">()</span></span>&#123; &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">berorePrintLog</span><span class="params">()</span></span>&#123;</span><br><span class="line">        System.out.println(<span class="string">"执行了前置通知方法..."</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    ......</span><br><span class="line">     <span class="comment">// 环绕通知</span></span><br><span class="line">     <span class="meta">@Around</span>(<span class="string">"pt1()"</span>)</span><br><span class="line">     <span class="function"><span class="keyword">public</span> Object <span class="title">aroundPrintLog</span><span class="params">(ProceedingJoinPoint pjp)</span></span>&#123;</span><br><span class="line">        Object rtValue = <span class="keyword">null</span>;</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line"></span><br><span class="line">            Object[] args = pjp.getArgs();  <span class="comment">// 得到方法执行所需的参数</span></span><br><span class="line"></span><br><span class="line">            System.out.println(<span class="string">"执行了前置通知方法..."</span>);</span><br><span class="line"></span><br><span class="line">            rtValue = pjp.proceed(args);<span class="comment">// 明确调用业务层方法(切入点方法)</span></span><br><span class="line"></span><br><span class="line">            System.out.println(<span class="string">"执行了后置通知方法..."</span>);</span><br><span class="line">            <span class="keyword">return</span> rtValue;</span><br><span class="line">        &#125; <span class="keyword">catch</span> (Throwable t) &#123;</span><br><span class="line">            System.out.println(<span class="string">"执行了异常通知方法..."</span>);</span><br><span class="line">            <span class="keyword">throw</span> <span class="keyword">new</span> RuntimeException(t);</span><br><span class="line">        &#125;<span class="keyword">finally</span> &#123;</span><br><span class="line">            System.out.println(<span class="string">"执行了最终通知方法..."</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure><p>*** 4. 编写测试类 **</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Test</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">test02</span><span class="params">()</span></span>&#123;</span><br><span class="line">ApplicationContext ac = <span class="keyword">new</span> AnnotationConfigApplicationContext(BeanConfig.class);</span><br><span class="line">    IAcoount accountService = ac.getBean(<span class="string">"accountService"</span>, IAcoount.class);</span><br><span class="line">    accountService.saveAccount();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;AOP是Spring框架面向切面的编程思想，AOP采用一种称为“横切”的技术，将涉及多业务流程的通用功能抽取并单独封装，形成独立的切面，在合适的时机将这些切面横向切入到业务流程指定的位置中。&lt;/p&gt;
    
    </summary>
    
    
      <category term="web" scheme="http://yoursite.com/tags/web/"/>
    
      <category term="Spring" scheme="http://yoursite.com/tags/Spring/"/>
    
      <category term="aop" scheme="http://yoursite.com/tags/aop/"/>
    
  </entry>
  
  <entry>
    <title>JSON随笔</title>
    <link href="http://yoursite.com/2019/08/12/JSON%E9%9A%8F%E7%AC%94/"/>
    <id>http://yoursite.com/2019/08/12/JSON随笔/</id>
    <published>2019-08-12T15:11:06.000Z</published>
    <updated>2019-08-12T15:36:49.968Z</updated>
    
    <content type="html"><![CDATA[<p>json现在多用于存储和交换文本信息的语法<br>进行数据的传输<br>JSON 比 XML 更小、更快，更易解析</p><a id="more"></a><h2 id="概念"><a href="#概念" class="headerlink" title="概念"></a>概念</h2><p><strong>JavaScript Object Notation,        JavaScript对象表示法</strong></p><ul><li><p>java 写法</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">Person p = <span class="keyword">new</span> Person();</span><br><span class="line">p.setName(<span class="string">"张三"</span>);</span><br><span class="line">p.setAge(<span class="number">23</span>);</span><br><span class="line">p.setGender(<span class="string">"男"</span>);</span><br></pre></td></tr></table></figure></li><li><p>json写法</p><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">var p = &#123;"name":"张三","age":23,"gender":"男"&#125;;</span><br></pre></td></tr></table></figure></li></ul><h2 id="语法"><a href="#语法" class="headerlink" title="语法"></a>语法</h2><h3 id="基本规则"><a href="#基本规则" class="headerlink" title="基本规则"></a>基本规则</h3><ul><li><p>数据在名称/值对中：json数据是由键值对构成的</p><ul><li>键用引号(单双都行)引起来，也可以不使用引号</li><li>值的取值类型：<ol><li>数字（整数或浮点数）</li><li>字符串（在双引号中）</li><li>逻辑值（true 或 false）</li><li>数组（在方括号中）    {“persons”:[{},{}]}</li><li>对象（在花括号中） {“address”:{“province”：”陕西”….}}</li></ol></li></ul></li><li><p>数据由逗号分隔：多个键值对由逗号分隔</p></li><li><p>花括号保存对象：使用{}定义json 格式</p></li><li><p>方括号保存数组：[]</p></li></ul><h3 id="获取数据"><a href="#获取数据" class="headerlink" title="获取数据"></a>获取数据</h3><ol><li>json对象.键名</li><li>json对象[“键名”]</li><li>数组对象[索引]</li><li>遍历<figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">//获取p对象中所有的键和值</span><br><span class="line">for(var key in p)&#123;</span><br><span class="line">alert(key+":"+p[key]);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li></ol><h2 id="JSON数据和Java对象的相互转换"><a href="#JSON数据和Java对象的相互转换" class="headerlink" title="JSON数据和Java对象的相互转换"></a>JSON数据和Java对象的相互转换</h2><p><strong>导入jackson的相关jar包</strong></p><blockquote><p>jackson-annotations-2.2.3.jar<br>jackson-core-2.2.3.jar<br>jackson-databind-2.2.3.jar</p></blockquote><h3 id="Java对象转换JSON"><a href="#Java对象转换JSON" class="headerlink" title="Java对象转换JSON"></a>Java对象转换JSON</h3><ol><li><p>创建Jackson核心对象 <code>ObjectMapper</code></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ObjectMapper mapper = <span class="keyword">new</span> ObjectMapper();</span><br></pre></td></tr></table></figure></li><li><p>调用ObjectMapper的相关方法进行转换</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mapper.writeValueAsString(obj); <span class="comment">//将对象转为json字符串</span></span><br></pre></td></tr></table></figure></li></ol><h3 id="JSON转为Java对象"><a href="#JSON转为Java对象" class="headerlink" title="JSON转为Java对象"></a>JSON转为Java对象</h3><ol><li><p>创建Jackson核心对象 ObjectMapper</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ObjectMapper mapper = <span class="keyword">new</span> ObjectMapper();</span><br></pre></td></tr></table></figure></li><li><p>调用ObjectMapper的相关方法进行转换</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//1.初始化JSON字符串</span></span><br><span class="line">String json = <span class="string">"&#123;\"gender\":\"男\",\"name\":\"张三\",\"age\":23&#125;"</span>;</span><br><span class="line"><span class="comment">//2.转换</span></span><br><span class="line">mapper.readValue(json字符串数据,类名.Class)</span><br></pre></td></tr></table></figure></li></ol>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;json现在多用于存储和交换文本信息的语法&lt;br&gt;进行数据的传输&lt;br&gt;JSON 比 XML 更小、更快，更易解析&lt;/p&gt;
    
    </summary>
    
    
      <category term="web" scheme="http://yoursite.com/tags/web/"/>
    
      <category term="随笔" scheme="http://yoursite.com/tags/%E9%9A%8F%E7%AC%94/"/>
    
      <category term="json" scheme="http://yoursite.com/tags/json/"/>
    
  </entry>
  
  <entry>
    <title>AJAX快速入门</title>
    <link href="http://yoursite.com/2019/08/12/AJAX%E5%BF%AB%E9%80%9F%E5%85%A5%E9%97%A8/"/>
    <id>http://yoursite.com/2019/08/12/AJAX快速入门/</id>
    <published>2019-08-12T14:41:02.000Z</published>
    <updated>2019-08-12T15:07:37.052Z</updated>
    
    <content type="html"><![CDATA[<h2 id="概念"><a href="#概念" class="headerlink" title="概念"></a>概念</h2><p>Ajax 是一种在无需重新加载整个网页的情况下，能够更新部分网页的技术。<br>通过在后台与服务器进行少量数据交换，Ajax 可以使网页实现异步更新。这意味着可以在不重新加载整个网页的情况下，对网页的某部分进行更新。<br>传统的网页（不使用 Ajax）如果需要更新内容，必须重载整个网页页面。</p><a id="more"></a><ol><li>异步和同步：客户端和服务器端相互通信的基础上<ul><li>客户端不需要等待服务器端的响应。在服务器处理请求的过程中，客户端可以进行其他的操作。</li><li>客户端必须等待服务器端的响应。在等待的期间客户端不能做其他操作。</li></ul></li></ol><h2 id="实现方式："><a href="#实现方式：" class="headerlink" title="实现方式："></a>实现方式：</h2><h3 id="JQeury实现方式"><a href="#JQeury实现方式" class="headerlink" title="JQeury实现方式"></a>JQeury实现方式</h3><p>$.post()：发送post请求<br>    * 语法：$.get(url, [data], [callback], [type])<br>        * 参数：<br>            * url：请求路径<br>            * data：请求参数<br>            * callback：回调函数<br>            * type：响应结果的类型</p>]]></content>
    
    <summary type="html">
    
      &lt;h2 id=&quot;概念&quot;&gt;&lt;a href=&quot;#概念&quot; class=&quot;headerlink&quot; title=&quot;概念&quot;&gt;&lt;/a&gt;概念&lt;/h2&gt;&lt;p&gt;Ajax 是一种在无需重新加载整个网页的情况下，能够更新部分网页的技术。&lt;br&gt;通过在后台与服务器进行少量数据交换，Ajax 可以使网页实现异步更新。这意味着可以在不重新加载整个网页的情况下，对网页的某部分进行更新。&lt;br&gt;传统的网页（不使用 Ajax）如果需要更新内容，必须重载整个网页页面。&lt;/p&gt;
    
    </summary>
    
    
      <category term="web" scheme="http://yoursite.com/tags/web/"/>
    
      <category term="随笔" scheme="http://yoursite.com/tags/%E9%9A%8F%E7%AC%94/"/>
    
  </entry>
  
  <entry>
    <title>AJAX快速入门</title>
    <link href="http://yoursite.com/2019/08/12/Spring1_AOP/"/>
    <id>http://yoursite.com/2019/08/12/Spring1_AOP/</id>
    <published>2019-08-12T14:41:02.000Z</published>
    <updated>2019-08-19T14:02:59.586Z</updated>
    
    <content type="html"><![CDATA[<p>AOP是Spring框架面向切面的编程思想，AOP采用一种称为“横切”的技术，将涉及多业务流程的通用功能抽取并单独封装，形成独立的切面，在合适的时机将这些切面横向切入到业务流程指定的位置中。</p><h3 id="AOP-相关术语"><a href="#AOP-相关术语" class="headerlink" title="AOP 相关术语"></a>AOP 相关术语</h3><p><strong>Joinpoint(连接点):</strong></p><blockquote><p>所谓连接点是指那些被拦截到的点。在 spring 中,这些点指的是方法,因为 spring 只支持方法类型的连接点。</p></blockquote><p><strong>Pointcut(切入点):</strong></p><blockquote><p>所谓切入点是指我们要对哪些 Joinpoint 进行拦截的定义。</p><p>指的是那些被增强的方法</p></blockquote><p><font color="#0099ff" size="3">所有的切入点都是连接点,但并不是所有的连接点都是切入点,简单来说就是被增强的方法是切入点,没有被增强的方法则是连接点</font></p><p><strong>Advice(通知/增强):</strong></p><blockquote><p>所谓通知是指拦截到 Joinpoint 之后所要做的事情就是通知。</p><p>通知的类型：前置通知,后置通知,异常通知,最终通知,环绕通知。</p></blockquote><p><strong>Introduction(引介):</strong></p><blockquote><p>引介是一种特殊的通知在不修改类代码的前提下, Introduction 可以在运行期为类动态地添加一些方法或 Field。</p></blockquote><p><strong>Target(目标对象):</strong></p><blockquote><p>代理的目标对象。</p></blockquote><p><strong>Weaving(织入):</strong></p><blockquote><p>是指把增强应用到目标对象来创建新的代理对象的过程。</p><p>spring 采用动态代理织入，而 AspectJ 采用编译期织入和类装载期织入。</p></blockquote><p><strong>Proxy（代理）:</strong></p><blockquote><p>一个类被 AOP 织入增强后，就产生一个结果代理类。</p></blockquote><p><strong>Aspect(切面):</strong></p><blockquote><p>是切入点和通知（引介）的结合。</p></blockquote><h2 id="基于XML的AOP配置"><a href="#基于XML的AOP配置" class="headerlink" title="基于XML的AOP配置"></a>基于XML的AOP配置</h2><p>引入下面的Jar包：</p><ul><li>spring-context</li><li>aspectjweaver</li></ul><p>*** 1.  编写模拟Service层的接口及实现类 **</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">interface</span> <span class="title">IAcoount</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">saveAccount</span><span class="params">()</span></span>;  <span class="comment">// 模拟保存账户</span></span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">updateAcount</span><span class="params">(<span class="keyword">int</span> i)</span></span>;  <span class="comment">// 模拟更新账户</span></span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">deleteAccount</span><span class="params">(<span class="keyword">int</span> i)</span></span>;  <span class="comment">// 模拟删除账户</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>*** 1.2 实现Service层的接口的类 **</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">AccountImpl</span> <span class="keyword">implements</span> <span class="title">IAcoount</span></span>&#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">saveAccount</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        System.out.println(<span class="string">"执行了保存方法..."</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    ... 实现所有未实现的方法</span><br></pre></td></tr></table></figure><p>*** 2. 编写通知类 **</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Logger</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">berorePrintLog</span><span class="params">()</span></span>&#123;</span><br><span class="line">        System.out.println(<span class="string">"执行了前置通知方法..."</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">afterRetueningPrintLog</span><span class="params">()</span></span>&#123;</span><br><span class="line">        System.out.println(<span class="string">"执行了后置通知方法..."</span>);</span><br><span class="line">    &#125;</span><br><span class="line">     <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">afterThrowingPrintLog</span><span class="params">()</span></span>&#123;</span><br><span class="line">        System.out.println(<span class="string">"执行了异常通知方法..."</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">afterPrintLog</span><span class="params">()</span></span>&#123;</span><br><span class="line">        System.out.println(<span class="string">"执行了最终通知方法..."</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line"> <span class="comment">/**</span></span><br><span class="line"><span class="comment">  这个是演示环绕通知的方法。</span></span><br><span class="line"><span class="comment">  Spring框架为我们提供了一个接口：ProceedingJoinPoint。该接口有一个方法proceed()，此方法  就相当于明确调用切入点方法。</span></span><br><span class="line"><span class="comment">  该接口可以作为环绕通知的方法参数，在程序执行时，spring框架会为我们提供该接口的实现类供我们使用。</span></span><br><span class="line"><span class="comment">  spring中的环绕通知：</span></span><br><span class="line"><span class="comment">  它是spring框架为我们提供的一种可以在代码中手动控制增强方法何时执行的方式。</span></span><br><span class="line"><span class="comment">  */</span></span><br><span class="line">     <span class="function"><span class="keyword">public</span> Object <span class="title">aroundPrintLog</span><span class="params">(ProceedingJoinPoint pjp)</span></span>&#123;</span><br><span class="line">        Object rtValue = <span class="keyword">null</span>;</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line"></span><br><span class="line">            Object[] args = pjp.getArgs();  <span class="comment">// 得到方法执行所需的参数</span></span><br><span class="line"></span><br><span class="line">            System.out.println(<span class="string">"执行了前置通知方法..."</span>);</span><br><span class="line"></span><br><span class="line">            rtValue = pjp.proceed(args);<span class="comment">// 明确调用业务层方法(切入点方法)</span></span><br><span class="line"></span><br><span class="line">            System.out.println(<span class="string">"执行了后置通知方法..."</span>);</span><br><span class="line">            <span class="keyword">return</span> rtValue;</span><br><span class="line">        &#125; <span class="keyword">catch</span> (Throwable t) &#123;</span><br><span class="line">            System.out.println(<span class="string">"执行了异常通知方法..."</span>);</span><br><span class="line">            <span class="keyword">throw</span> <span class="keyword">new</span> RuntimeException(t);</span><br><span class="line">        &#125;<span class="keyword">finally</span> &#123;</span><br><span class="line">            System.out.println(<span class="string">"执行了最终通知方法..."</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>*** 3. XML的配置编写 **</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- 配置spring的Ioc,把需要增强的类的对象配置进来  --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">"accountImpl"</span> <span class="attr">class</span>=<span class="string">"com.itspring.service.impl.AccountImpl"</span>&gt;</span><span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!-- 配置Logger类(通知类) --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">"logger"</span> <span class="attr">class</span>=<span class="string">"com.itspring.utilts.Logger"</span>&gt;</span><span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!-- 配置Aop --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">aop:config</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- 配置切入点表达式 --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">aop:pointcut</span> <span class="attr">id</span>=<span class="string">"pt1"</span> <span class="attr">expression</span>=<span class="string">"execution(* com.itspring.service.impl.*.*(..))"</span> /&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--  配置切面  --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">aop:aspect</span> <span class="attr">id</span>=<span class="string">"logAdvice"</span> <span class="attr">ref</span>=<span class="string">"logger"</span>&gt;</span></span><br><span class="line">        <span class="comment">&lt;!-- 配置前置通知  --&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">aop:before</span> <span class="attr">method</span>=<span class="string">"berorePrintLog"</span> <span class="attr">pointcut-ref</span>=<span class="string">"pt1"</span> /&gt;</span></span><br><span class="line">        <span class="comment">&lt;!--  配置后置通知 --&gt;</span></span><br><span class="line">         <span class="tag">&lt;<span class="name">aop:after-returning</span> <span class="attr">method</span>=<span class="string">"afterRetueningPrintLog"</span> <span class="attr">pointcut-ref</span>=<span class="string">"pt1"</span> /&gt;</span></span><br><span class="line">         <span class="comment">&lt;!-- 配置异常通知  --&gt;</span></span><br><span class="line">         <span class="tag">&lt;<span class="name">aop:after-throwing</span> <span class="attr">method</span>=<span class="string">"afterThrowingPrintLog"</span> <span class="attr">pointcut-ref</span>=<span class="string">"pt1"</span>  /&gt;</span></span><br><span class="line">         <span class="comment">&lt;!-- 配置最终通知  --&gt;</span></span><br><span class="line">         <span class="tag">&lt;<span class="name">aop:after</span> <span class="attr">method</span>=<span class="string">"afterPrintLog"</span> <span class="attr">pointcut-ref</span>=<span class="string">"pt1"</span> /&gt;</span></span><br><span class="line">        </span><br><span class="line">        <span class="comment">&lt;!-- 配置坏绕通知, 配置了环绕通知就可以不用配置上面的四个通知了 --&gt;</span></span><br><span class="line">         <span class="tag">&lt;<span class="name">aop:around</span> <span class="attr">method</span>=<span class="string">"aroundPrintLog"</span> <span class="attr">pointcut-ref</span>=<span class="string">"pt1"</span> /&gt;</span></span><br><span class="line">     <span class="tag">&lt;/<span class="name">aop:aspect</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">aop:config</span>&gt;</span></span><br></pre></td></tr></table></figure><p>*** 4. 编写测试代码 **</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">AccountTest</span> </span>&#123;</span><br><span class="line">    <span class="meta">@Test</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">test</span><span class="params">()</span></span>&#123;</span><br><span class="line">        <span class="comment">//1.获取容器</span></span><br><span class="line">        ApplicationContext ac = <span class="keyword">new</span> ClassPathXmlApplicationContext(<span class="string">"bean.xml"</span>);</span><br><span class="line">        <span class="comment">//2.获取对象</span></span><br><span class="line">        IAcoount accountImpl = ac.getBean(<span class="string">"accountImpl"</span>,IAcoount.class);</span><br><span class="line">    <span class="comment">//3.执行方法</span></span><br><span class="line">        accountImpl.saveAccount();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="基于注解的AOP配置"><a href="#基于注解的AOP配置" class="headerlink" title="基于注解的AOP配置"></a>基于注解的AOP配置</h2><p><font color="#0099ff" size="3">因Spring的注解的异常通知和最终通知存在执行顺序的问题,就直接使用环绕通知的注解</font></p><p>*** 1.编写一个配置类 **</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Configuration</span> <span class="comment">// 指定当前类是一个配置类</span></span><br><span class="line"><span class="meta">@ComponentScan</span>(basePackages = &#123;<span class="string">"com.itspring"</span>&#125;)  <span class="comment">//指定创建容器时要扫描的包。</span></span><br><span class="line"><span class="meta">@EnableAspectJAutoProxy</span>  <span class="comment">//表示开启AOP代理自动配置</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">BeanConfig</span> </span>&#123;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>*** 2. 注解Service层的接口的实现类  **</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Service</span>(<span class="string">"accountService"</span>)</span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">AccountImpl</span> <span class="keyword">implements</span> <span class="title">IAcoount</span></span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">saveAccount</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        System.out.println(<span class="string">"执行了保存方法..."</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    .......</span><br></pre></td></tr></table></figure><p>*** 3. 注解通知类 **</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Component</span>(<span class="string">"logger"</span>)</span><br><span class="line"><span class="meta">@Aspect</span>  <span class="comment">// 表示当前类是一个切面类</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Logger</span> </span>&#123;</span><br><span class="line">    <span class="comment">// 指定切入点表达式</span></span><br><span class="line">    <span class="meta">@Pointcut</span>(<span class="string">"execution(* com.itspring.service.impl.*.*(..))"</span>)  </span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">pt1</span><span class="params">()</span></span>&#123; &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">berorePrintLog</span><span class="params">()</span></span>&#123;</span><br><span class="line">        System.out.println(<span class="string">"执行了前置通知方法..."</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    ......</span><br><span class="line">     <span class="comment">// 环绕通知</span></span><br><span class="line">     <span class="meta">@Around</span>(<span class="string">"pt1()"</span>)</span><br><span class="line">     <span class="function"><span class="keyword">public</span> Object <span class="title">aroundPrintLog</span><span class="params">(ProceedingJoinPoint pjp)</span></span>&#123;</span><br><span class="line">        Object rtValue = <span class="keyword">null</span>;</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line"></span><br><span class="line">            Object[] args = pjp.getArgs();  <span class="comment">// 得到方法执行所需的参数</span></span><br><span class="line"></span><br><span class="line">            System.out.println(<span class="string">"执行了前置通知方法..."</span>);</span><br><span class="line"></span><br><span class="line">            rtValue = pjp.proceed(args);<span class="comment">// 明确调用业务层方法(切入点方法)</span></span><br><span class="line"></span><br><span class="line">            System.out.println(<span class="string">"执行了后置通知方法..."</span>);</span><br><span class="line">            <span class="keyword">return</span> rtValue;</span><br><span class="line">        &#125; <span class="keyword">catch</span> (Throwable t) &#123;</span><br><span class="line">            System.out.println(<span class="string">"执行了异常通知方法..."</span>);</span><br><span class="line">            <span class="keyword">throw</span> <span class="keyword">new</span> RuntimeException(t);</span><br><span class="line">        &#125;<span class="keyword">finally</span> &#123;</span><br><span class="line">            System.out.println(<span class="string">"执行了最终通知方法..."</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure><p>*** 4. 编写测试类 **</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Test</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">test02</span><span class="params">()</span></span>&#123;</span><br><span class="line">ApplicationContext ac = <span class="keyword">new</span> AnnotationConfigApplicationContext(BeanConfig.class);</span><br><span class="line">    IAcoount accountService = ac.getBean(<span class="string">"accountService"</span>, IAcoount.class);</span><br><span class="line">    accountService.saveAccount();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;AOP是Spring框架面向切面的编程思想，AOP采用一种称为“横切”的技术，将涉及多业务流程的通用功能抽取并单独封装，形成独立的切面，在合适的时机将这些切面横向切入到业务流程指定的位置中。&lt;/p&gt;
&lt;h3 id=&quot;AOP-相关术语&quot;&gt;&lt;a href=&quot;#AOP-相关术语&quot;
      
    
    </summary>
    
    
      <category term="随笔" scheme="http://yoursite.com/tags/%E9%9A%8F%E7%AC%94/"/>
    
      <category term="Spring" scheme="http://yoursite.com/tags/Spring/"/>
    
      <category term="aop" scheme="http://yoursite.com/tags/aop/"/>
    
  </entry>
  
  <entry>
    <title>JAVA代码书写规范</title>
    <link href="http://yoursite.com/2019/08/06/JAVA%E4%BB%A3%E7%A0%81%E4%B9%A6%E5%86%99%E8%A7%84%E8%8C%83/"/>
    <id>http://yoursite.com/2019/08/06/JAVA代码书写规范/</id>
    <published>2019-08-06T12:44:20.000Z</published>
    <updated>2019-08-07T09:19:27.254Z</updated>
    
    <content type="html"><![CDATA[<p><font size="3">这是我整理的一些java书写规范。可能和网上的有些出入</font><br><font size="3">但是，规范这么多，适合自己的才是最好的。</font><br><img src="https://i1.100024.xyz/i/2019/08/06/zbwwlb.jpg" alt></p><a id="more"></a><h2 id="一般原则"><a href="#一般原则" class="headerlink" title="一般原则"></a>一般原则</h2><ol><li>尽量使用完整的英文描述符</li><li>采用适用于相关领域的术语</li><li>采用大小写混合增强可读性</li><li>尽量少用缩写，但如果用了，要明智地使用，且在整个工程中统一</li><li>避免使用长的名字</li><li>避免使用类似的名字，或者仅仅是大小写不同的名字</li><li>避免使用下划线（除静态常量等)</li></ol><h2 id="命名的字母大小写问题"><a href="#命名的字母大小写问题" class="headerlink" title="命名的字母大小写问题"></a>命名的字母大小写问题</h2><ol><li>包名： 字母全小写     例如:  <code>cn.coderstory.Activity.Main</code></li><li>类，接口 ：首字母大写，其他全小写 例如: <code>class Container</code></li><li>方法，变量 ：第二个单词开始首字母大写 例如:  <code>seedMessage</code></li><li>常量： 大写，单词用“_”分割 例如: <code>final static MIN_WIDTH = 4</code></li><li>接口 ：首字母大写 ，后缀Impl 例如: <code>class ContainerImpl</code></li><li>异常类： 首字母大写， 后缀Exception 例如: <code>DataNotFoundException</code></li><li>抽象类 ：首字母大写， 前缀Abstract 例如: <code>AbstractBeanDefinition</code></li><li>Test类： 首字母大写， 后缀Test 例如: <code>public Location newLocation()</code></li></ol><h2 id="方法的命名"><a href="#方法的命名" class="headerlink" title="方法的命名"></a>方法的命名</h2><ol><li>类中获取值方法，一般要求被方法名使用被访问字段名，前面加上前缀get，如 <code>getLastUser(), getUserCount()</code></li><li>返回布尔型的判断方法一般要求方法名使用单词 is 做前缀，如<code>isPersistent(),isString()。</code> 或者使用具有逻辑意义的单词，例如<code>equal</code> 或<code>equals</code></li><li>用于修改某些设置的方法（一般返回类型为void）：被访问字段名的前面加上前缀 set，如<code>setFirstName(),setLastName()，setWarpSpeed()。</code></li><li>已办的方法一般采用完整的英文描述说明成员方法功能，第一个单词尽可能采用一个生动的动词，第一个字母小写，如 <code>openFile(), addAccount()。</code></li><li>接口 ：首字母大写 ，后缀Impl 例如: <code>class ContainerImpl</code></li><li>异常类： 首字母大写， 后缀Exception 例如: <code>DataNotFoundException</code></li><li>抽象类 ：首字母大写， 前缀Abstract 例如:<code>AbstractBeanDefinition</code></li><li>Test类： 首字母大写， 后缀Test 例如: <code>public Location newLocation()</code></li></ol><h2 id="Java注释约定"><a href="#Java注释约定" class="headerlink" title="Java注释约定"></a>Java注释约定</h2><ol><li><p>类的整体注释：遵循JavaDoc的规范，在每一个源文件的开头注明该CLASS的作用, 作<br>简要说明, 并写上源文件的作者, 编写日期。如果是修改别人编写的源文件，要在修改<br>信息上注明修改者和修改日期。<br>例如：<br>/**<br>@（#）:CLASSNAME.java<br>@description: Description of this java<br>@author: PROGRAMMER’S NAME YYYY/MM/DD<br>@version: Version No.<br>@modify:<br>@Copyright: 版权由拥有<br>*/</p></li><li><p>类中方法的注释：遵循JavaDoc的规范，在每个方法的前部用块注释的方法描述此方法<br>的作用，以及传入，传出参数的类型和作用，以及需要捕获的错误。<br>例如：<br>/**<br>方法的描述<br>@param 参数的描述<br>@return 返回类型的描述<br>@exception 出错信息的描述<br>*/</p></li><li><p>行注释：使用//…的注释方法来注释需要表明的内容。并且把注释的内容放在需要注<br>释的代码的前面一行或同一行。</p></li><li><p>块注释：使用/<em>*和</em>/注释的方法来注释需要表明的内容。并且把注释的内容放在需要<br>注释的代码的前面。</p></li></ol><hr>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;&lt;font size=&quot;3&quot;&gt;这是我整理的一些java书写规范。可能和网上的有些出入&lt;/font&gt;&lt;br&gt;&lt;font size=&quot;3&quot;&gt;但是，规范这么多，适合自己的才是最好的。&lt;/font&gt;&lt;br&gt;&lt;img src=&quot;https://i1.100024.xyz/i/2019/08/06/zbwwlb.jpg&quot; alt&gt;&lt;/p&gt;
    
    </summary>
    
      <category term="java" scheme="http://yoursite.com/categories/java/"/>
    
    
      <category term="随笔" scheme="http://yoursite.com/tags/%E9%9A%8F%E7%AC%94/"/>
    
      <category term="java" scheme="http://yoursite.com/tags/java/"/>
    
  </entry>
  
  <entry>
    <title>Hello World</title>
    <link href="http://yoursite.com/2019/07/20/hello-world/"/>
    <id>http://yoursite.com/2019/07/20/hello-world/</id>
    <published>2019-07-20T05:35:53.925Z</published>
    <updated>2019-07-20T05:35:53.925Z</updated>
    
    <content type="html"><![CDATA[<p>Welcome to <a href="https://hexo.io/" target="_blank" rel="noopener">Hexo</a>! This is your very first post. Check <a href="https://hexo.io/docs/" target="_blank" rel="noopener">documentation</a> for more info. If you get any problems when using Hexo, you can find the answer in <a href="https://hexo.io/docs/troubleshooting.html" target="_blank" rel="noopener">troubleshooting</a> or you can ask me on <a href="https://github.com/hexojs/hexo/issues" target="_blank" rel="noopener">GitHub</a>.</p><h2 id="Quick-Start"><a href="#Quick-Start" class="headerlink" title="Quick Start"></a>Quick Start</h2><h3 id="Create-a-new-post"><a href="#Create-a-new-post" class="headerlink" title="Create a new post"></a>Create a new post</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo new <span class="string">"My New Post"</span></span><br></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/writing.html" target="_blank" rel="noopener">Writing</a></p><h3 id="Run-server"><a href="#Run-server" class="headerlink" title="Run server"></a>Run server</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo server</span><br></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/server.html" target="_blank" rel="noopener">Server</a></p><h3 id="Generate-static-files"><a href="#Generate-static-files" class="headerlink" title="Generate static files"></a>Generate static files</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo generate</span><br></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/generating.html" target="_blank" rel="noopener">Generating</a></p><h3 id="Deploy-to-remote-sites"><a href="#Deploy-to-remote-sites" class="headerlink" title="Deploy to remote sites"></a>Deploy to remote sites</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo deploy</span><br></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/deployment.html" target="_blank" rel="noopener">Deployment</a></p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;Welcome to &lt;a href=&quot;https://hexo.io/&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;Hexo&lt;/a&gt;! This is your very first post. Check &lt;a href=&quot;https://hexo.
      
    
    </summary>
    
    
  </entry>
  
</feed>
